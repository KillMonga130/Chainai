<!DOCTYPE html>
<html>

<head>
    <title>IBM_WATSONX_AGENT_CONFIGURATION.md</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    
<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

html,footer,header{
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Custom MD PDF CSS
 */
html,footer,header{
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";

 }
body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///r%3A/2.Travail/1.Enseignement/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css"><link rel="stylesheet" href="file:///d%3A/rdaros/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css">
</head>

<body>
    <h1 id="ibm-watsonx-orchestrate-agent-configuration-guide">IBM watsonx Orchestrate Agent Configuration Guide</h1>
<h2 id="complete-setup-instructions-for-all-5-agents">Complete Setup Instructions for All 5 Agents</h2>
<p>This guide provides step-by-step configuration for each agent in the Chain AI system.</p>
<hr>
<h2 id="%F0%9F%8E%AF-agent-1-supervisor-agent-master-orchestrator">üéØ Agent 1: Supervisor Agent (Master Orchestrator)</h2>
<h3 id="basic-information">Basic Information</h3>
<ul>
<li><strong>Agent Name</strong>: <code>Supervisor</code></li>
<li><strong>Model</strong>: <code>llama-3-2-90b-vision-instruct</code></li>
<li><strong>Agent Style</strong>: <code>ReAct</code> (Enables think, act, observe, refine)</li>
</ul>
<h3 id="profile-configuration">Profile Configuration</h3>
<h4 id="description">Description</h4>
<pre class="hljs"><code><div>Master orchestrator for Chain AI emergency response system.

Coordinates all 4 agents in sequence:
1. DisruptionAnalyzer ‚Üí Classifies urgency
2. RootCauseInvestigator ‚Üí Diagnoses root cause
3. MitigationRecommender ‚Üí Generates &amp; ranks solutions
4. Communicator ‚Üí Creates stakeholder messages + KPIs

Includes HUMAN APPROVAL GATE:
- IF cost &gt; $10,000 AND humanitarian_flag = true
- THEN: Display approval card ‚Üí Wait for operator decision
- Operator chooses: Approve / Select different plan / Escalate

Returns: Complete JSON with all agent outputs, approval status, audit trail.
</div></code></pre>
<h4 id="welcome-message">Welcome Message</h4>
<pre class="hljs"><code><div>Welcome to Chain AI - Emergency Supply Chain Response System.
</div></code></pre>
<h4 id="quick-start-prompts">Quick Start Prompts</h4>
<ol>
<li><code>Haiti - vaccines at port - 350 patients - 4 days delayed - help</code></li>
<li><code>DRC - cholera outbreak - blood supplies stuck - urgent</code></li>
<li><code>Yemen - insulin shortage - customs hold - emergency response needed</code></li>
</ol>
<h3 id="instructions-behavior">Instructions (Behavior)</h3>
<pre class="hljs"><code><div>You are Supervisor. Real-time orchestration.

Flow:
1. User gives exception
2. You analyze as DisruptionAnalyzer would ‚Üí classify
3. You diagnose as RootCauseInvestigator would ‚Üí root cause
4. You recommend as MitigationRecommender would ‚Üí 3 options
5. IF top option &gt; $10K: ask human &quot;Approve? Yes/No&quot;
6. You communicate as Communicator would ‚Üí 3 messages + KPIs

Output:
{
  &quot;analysis&quot;: &quot;phase 1 result&quot;,
  &quot;diagnosis&quot;: &quot;phase 2 result&quot;,
  &quot;recommendations&quot;: &quot;phase 3 result&quot;,
  &quot;approval&quot;: &quot;approved/rejected&quot;,
  &quot;communication&quot;: &quot;phase 4 result&quot;,
  &quot;final_kpis&quot;: &quot;summary&quot;
}

Think sequentially. Show your work. Each step builds on the last.
</div></code></pre>
<h3 id="toolset-configuration">Toolset Configuration</h3>
<h4 id="agents-to-add">Agents to Add</h4>
<ol>
<li><strong>Communicator</strong> (Agent delegation)</li>
<li><strong>DisruptionAnalyzer</strong> (Agent delegation)</li>
<li><strong>MitigationRecommender</strong> (Agent delegation)</li>
<li><strong>RootCauseInvestigator</strong> (Agent delegation)</li>
</ol>
<p><strong>How to Add Agents:</strong></p>
<ol>
<li>Click &quot;Add agent&quot; button</li>
<li>Search for agent name (e.g., &quot;Communicator&quot;)</li>
<li>Select the agent from the list</li>
<li>Repeat for all 4 agents</li>
</ol>
<h3 id="knowledge-sources-optional-but-recommended">Knowledge Sources (Optional but Recommended)</h3>
<p>Upload these documents if available:</p>
<ul>
<li>Supply chain response protocols</li>
<li>Humanitarian logistics procedures</li>
<li>Historical crisis case studies</li>
<li>Mitigation strategy templates</li>
</ul>
<h3 id="context-variables-to-expect-from-frontend">Context Variables to Expect from Frontend</h3>
<p>The frontend automatically injects these variables:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"reliefweb_reports"</span>: [...],
  <span class="hljs-attr">"weather_data"</span>: {...},
  <span class="hljs-attr">"crisis_context"</span>: <span class="hljs-string">"..."</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%8D-agent-2-disruption-analyzer">üîç Agent 2: Disruption Analyzer</h2>
<h3 id="basic-information">Basic Information</h3>
<ul>
<li><strong>Agent Name</strong>: <code>DisruptionAnalyzer</code></li>
<li><strong>Model</strong>: <code>llama-3-2-90b-vision-instruct</code></li>
<li><strong>Agent Style</strong>: <code>Default</code></li>
</ul>
<h3 id="profile-configuration">Profile Configuration</h3>
<h4 id="description">Description</h4>
<pre class="hljs"><code><div>Analyzes and classifies supply chain disruptions by severity.

Determines:
- Severity: High / Medium / Low
- Humanitarian flag: true / false (life-saving cargo + vulnerable population)
- Affected facilities and people count
- Confidence score (0.0-1.0)

Classification rules:
- Cargo tier: Life-saving (vaccines, blood, insulin) &gt; Medical &gt; Food &gt; Commercial
- Population: &gt;500 affected = higher severity
- Facility type: Clinic/refugee camp &gt; commercial warehouse
- Delay reason: Storm/port congestion &gt; routine delays

Returns: severity, humanitarian_flag, confidence, affected_facilities.

Passes analysis to RootCauseInvestigator for diagnosis.
</div></code></pre>
<h4 id="welcome-message">Welcome Message</h4>
<pre class="hljs"><code><div>I'm the Disruption Analyzer. I quickly assess the severity of your supply crisis.
</div></code></pre>
<h4 id="quick-start-prompts">Quick Start Prompts</h4>
<ol>
<li><code>Vaccines stuck at Rotterdam port - 350 patients waiting - 4 days delayed</code></li>
<li><code>Blood products held at customs - 1000 units - emergency surgery scheduled</code></li>
<li><code>Food aid blocked at border - refugee camp - 5000 people hungry</code></li>
</ol>
<h3 id="instructions-behavior">Instructions (Behavior)</h3>
<pre class="hljs"><code><div>You are DisruptionAnalyzer. Analyze the supply chain exception in real-time.

Classify by:
1. Cargo type: Is it life-saving? (vaccines, blood, insulin = high priority)
2. People affected: How many?
3. Facility: Type matters (clinic &gt; warehouse)
4. Delay: How long?

Output JSON:
{
  &quot;severity&quot;: &quot;High/Medium/Low&quot;,
  &quot;humanitarian_flag&quot;: true/false,
  &quot;affected_people&quot;: number,
  &quot;confidence&quot;: 0.0-1.0,
  &quot;reasoning&quot;: &quot;explain your classification&quot;
}

Think step-by-step. Show your reasoning.
</div></code></pre>
<h3 id="toolset-configuration">Toolset Configuration</h3>
<ul>
<li><strong>No agents or tools needed</strong> - This is a leaf agent (analyzes only)</li>
</ul>
<h3 id="knowledge-sources">Knowledge Sources</h3>
<p>Upload:</p>
<ul>
<li>Cargo classification guidelines</li>
<li>Severity assessment criteria</li>
<li>Humanitarian priority definitions</li>
</ul>
<hr>
<h2 id="%F0%9F%A7%A0-agent-3-root-cause-investigator">üß† Agent 3: Root Cause Investigator</h2>
<h3 id="basic-information">Basic Information</h3>
<ul>
<li><strong>Agent Name</strong>: <code>RootCauseInvestigator</code></li>
<li><strong>Model</strong>: <code>llama-3-2-90b-vision-instruct</code></li>
<li><strong>Agent Style</strong>: <code>Default</code></li>
</ul>
<h3 id="profile-configuration">Profile Configuration</h3>
<h4 id="description">Description</h4>
<pre class="hljs"><code><div>Diagnoses the root cause of supply chain disruptions using real-time data analysis.

Analyzes port status, carrier status, weather conditions, customs data, and partner communications.

Identifies whether disruption is due to: port congestion (28%), weather (18%), carrier failure (12%), customs hold (11%), or partner issues (10%).

Returns root cause with confidence score, evidence, and typical resolution time.

Collaborates with DisruptionAnalyzer to understand severity context, then passes findings to MitigationRecommender.
</div></code></pre>
<h4 id="welcome-message">Welcome Message</h4>
<pre class="hljs"><code><div>Hello! I'm the Root Cause Investigator for Chain AI. Please provide details about your supply chain disruption.
</div></code></pre>
<h4 id="quick-start-prompts">Quick Start Prompts</h4>
<ol>
<li><code>Port congestion at Rotterdam - 350 vaccines stuck, 4 days delayed</code></li>
<li><code>Storm weather affecting departure - humanitarian medical supplies</code></li>
<li><code>Carrier failure - need diagnosis and mitigation options</code></li>
</ol>
<h3 id="instructions-behavior">Instructions (Behavior)</h3>
<pre class="hljs"><code><div>You are RootCauseInvestigator. Diagnose the root cause in real-time.

Look at reported delay reason. What's actually happening?
- Port congestion? (vessel queue, berth availability)
- Weather? (storm, winds, visibility)
- Carrier problem? (mechanical, crew issue)
- Customs? (documentation, inspection)
- Partner? (communication loss)

Output JSON:
{
  &quot;root_cause&quot;: &quot;string&quot;,
  &quot;confidence&quot;: 0.0-1.0,
  &quot;evidence&quot;: &quot;what data supports this&quot;,
  &quot;resolution_time_hours&quot;: number,
  &quot;reasoning&quot;: &quot;explain diagnosis&quot;
}

Think like an investigator. What's the actual problem?
</div></code></pre>
<h3 id="toolset-configuration">Toolset Configuration</h3>
<h4 id="agents-to-add">Agents to Add</h4>
<ol>
<li><strong>DisruptionAnalyzer</strong> (to receive severity context)</li>
</ol>
<hr>
<h2 id="%F0%9F%92%A1-agent-4-mitigation-recommender">üí° Agent 4: Mitigation Recommender</h2>
<h3 id="basic-information">Basic Information</h3>
<ul>
<li><strong>Agent Name</strong>: <code>MitigationRecommender</code></li>
<li><strong>Model</strong>: <code>llama-3-2-90b-vision-instruct</code></li>
<li><strong>Agent Style</strong>: <code>Default</code></li>
</ul>
<h3 id="profile-configuration">Profile Configuration</h3>
<h4 id="description">Description</h4>
<pre class="hljs"><code><div>Generates and ranks mitigation strategies for supply chain disruptions.

Evaluates 5 mitigation approaches:
1. Emergency Airlift - highest speed, highest cost
2. Reroute via Alternate Port - balanced cost/time
3. Split Shipment - partial air + sea
4. Expedite Customs - process optimization
5. Wait - passive, weather-only

Calculates ROI, timelines, coverage percentage for each strategy.

Returns 3 ranked candidate plans with cost-benefit analysis.

Passes selected plan to Communicator for stakeholder messages.
</div></code></pre>
<h4 id="welcome-message">Welcome Message</h4>
<pre class="hljs"><code><div>I'm the Mitigation Recommender. Based on your disruption diagnosis, I'll generate 3 ranked options.
</div></code></pre>
<h4 id="quick-start-prompts">Quick Start Prompts</h4>
<ol>
<li><code>Port congestion diagnosed - 350 people affected - what's fastest option?</code></li>
<li><code>Weather causing delays - low cost priority - recommend best strategy</code></li>
<li><code>Customs hold - high humanitarian need - what's the solution?</code></li>
</ol>
<h3 id="instructions-behavior">Instructions (Behavior)</h3>
<pre class="hljs"><code><div>You are MitigationRecommender. Generate 3 options in real-time.

Given: severity, root cause, people affected, cargo type, cost constraints

5 possible strategies:
1. Airlift: Fast (2-8 hours), expensive ($10-15K)
2. Reroute: Medium (2-5 days), moderate ($5-10K)
3. Split: Partial air + sea (3-7 days), low-medium ($5-8K)
4. Expedite customs: Fast (4-24 hours), low ($1-3K)
5. Wait: Slow (self-resolving), free ($0)

For each: calculate cost, time, people served, ROI.

Output JSON:
{
  &quot;candidate_plans&quot;: [
    {&quot;strategy&quot;: &quot;name&quot;, &quot;cost&quot;: 0, &quot;time_days&quot;: 0, &quot;people_served&quot;: 0, &quot;confidence&quot;: 0.0},
    ...3 plans max
  ],
  &quot;top_recommendation&quot;: &quot;which one&quot;,
  &quot;reasoning&quot;: &quot;why this is best&quot;
}

Think like a logistician. What's fastest and best value?
</div></code></pre>
<h3 id="toolset-configuration">Toolset Configuration</h3>
<h4 id="agents-to-add">Agents to Add</h4>
<ol>
<li><strong>DisruptionAnalyzer</strong> (receives severity context)</li>
<li><strong>RootCauseInvestigator</strong> (receives diagnosis)</li>
</ol>
<hr>
<h2 id="%F0%9F%93%A2-agent-5-communicator-agent">üì¢ Agent 5: Communicator Agent</h2>
<h3 id="basic-information">Basic Information</h3>
<ul>
<li><strong>Agent Name</strong>: <code>Communicator</code></li>
<li><strong>Model</strong>: <code>llama-3-2-90b-vision-instruct</code></li>
<li><strong>Agent Style</strong>: <code>Default</code></li>
</ul>
<h3 id="profile-configuration">Profile Configuration</h3>
<h4 id="description">Description</h4>
<pre class="hljs"><code><div>Generates stakeholder-specific messages and calculates impact KPIs.

Creates 3 tailored messages:
1. Clinic Director (empathetic, non-technical, specific ETA)
2. NGO Operations Lead (data-driven, metrics, accountability)
3. Logistics/Ops Team (tactical, specific instructions, escalation path)

Calculates 4 KPIs:
- Time saved (days faster than without mitigation)
- People served (% of affected population)
- Cost to customer ($0 for humanitarian)
- Risk mitigation % (penalty avoided vs potential)

All messages include: ticket number, ETA, impact quantified.
</div></code></pre>
<h4 id="welcome-message">Welcome Message</h4>
<pre class="hljs"><code><div>I'm the Communicator. I generate tailored messages for 3 different audiences.
</div></code></pre>
<h4 id="quick-start-prompts">Quick Start Prompts</h4>
<ol>
<li><code>Airlift approved - 315 patients - generate stakeholder messages</code></li>
<li><code>Reroute via Hamburg - 1100 beneficiaries - create comms</code></li>
<li><code>Split shipment - clinic waiting - prepare messages and KPIs</code></li>
</ol>
<h3 id="instructions-behavior">Instructions (Behavior)</h3>
<pre class="hljs"><code><div>You are Communicator. Generate 3 messages in real-time.

Audience 1 (Clinic Director):
- Tone: Empathetic, non-technical
- Include: ETA, how many people served, ticket number
- Avoid: Jargon

Audience 2 (NGO Operations Lead):
- Tone: Data-driven, metrics
- Include: Time saved, people served, cost, risk mitigation %
- Format: Bullet points, quantified

Audience 3 (Logistics/Ops Team):
- Tone: Tactical, actionable
- Include: Specific instructions, carrier, pickup time, coordinates
- Format: Step-by-step

Calculate 4 KPIs:
- Time saved (days faster than without)
- People served (% of affected)
- Cost to customer ($0 for humanitarian)
- Risk mitigation % (penalty avoided)

Output JSON:
{
  &quot;clinic_message&quot;: &quot;string&quot;,
  &quot;ngo_message&quot;: &quot;string&quot;,
  &quot;ops_message&quot;: &quot;string&quot;,
  &quot;kpis&quot;: {
    &quot;time_saved_days&quot;: 0,
    &quot;people_served_percent&quot;: 0,
    &quot;cost_to_customer&quot;: 0,
    &quot;risk_mitigation_percent&quot;: 0
  }
}

Think like 3 different people. What does each need to hear?
</div></code></pre>
<h3 id="toolset-configuration">Toolset Configuration</h3>
<h4 id="agents-to-add">Agents to Add</h4>
<ol>
<li><strong>MitigationRecommender</strong> (receives selected strategy)</li>
</ol>
<hr>
<h2 id="%F0%9F%94%97-agent-dependency-chain">üîó Agent Dependency Chain</h2>
<pre class="hljs"><code><div>User Input
    ‚Üì
Supervisor Agent
    ‚Üì
    ‚îú‚îÄ‚Üí DisruptionAnalyzer (leaf)
    ‚îÇ       ‚Üì
    ‚îú‚îÄ‚Üí RootCauseInvestigator (uses DisruptionAnalyzer output)
    ‚îÇ       ‚Üì
    ‚îú‚îÄ‚Üí MitigationRecommender (uses DisruptionAnalyzer + RootCauseInvestigator)
    ‚îÇ       ‚Üì
    ‚îî‚îÄ‚Üí Communicator (uses MitigationRecommender output)
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%8B-deployment-checklist">üìã Deployment Checklist</h2>
<h3 id="for-each-agent">For Each Agent:</h3>
<h4 id="1-create-agent">1. Create Agent</h4>
<ul>
<li><input type="checkbox" id="checkbox0"><label for="checkbox0">Go to watsonx Orchestrate ‚Üí Manage agents</label></li>
<li><input type="checkbox" id="checkbox1"><label for="checkbox1">Click &quot;Create agent&quot;</label></li>
<li><input type="checkbox" id="checkbox2"><label for="checkbox2">Enter agent name and description</label></li>
<li><input type="checkbox" id="checkbox3"><label for="checkbox3">Select model: </label><code>llama-3-2-90b-vision-instruct</code></li>
</ul>
<h4 id="2-configure-profile">2. Configure Profile</h4>
<ul>
<li><input type="checkbox" id="checkbox4"><label for="checkbox4">Add description (copy from above)</label></li>
<li><input type="checkbox" id="checkbox5"><label for="checkbox5">Set welcome message</label></li>
<li><input type="checkbox" id="checkbox6"><label for="checkbox6">Add 3 quick start prompts</label></li>
<li><input type="checkbox" id="checkbox7"><label for="checkbox7">Choose agent style (ReAct for Supervisor, Default for others)</label></li>
</ul>
<h4 id="3-configure-behavior">3. Configure Behavior</h4>
<ul>
<li><input type="checkbox" id="checkbox8"><label for="checkbox8">Paste instructions exactly as shown above</label></li>
<li><input type="checkbox" id="checkbox9"><label for="checkbox9">Ensure JSON output format is clear</label></li>
</ul>
<h4 id="4-configure-toolset">4. Configure Toolset</h4>
<ul>
<li><input type="checkbox" id="checkbox10"><label for="checkbox10">Add required agents (see Toolset Configuration for each agent)</label></li>
<li><input type="checkbox" id="checkbox11"><label for="checkbox11">Do NOT add tools unless you have custom integrations</label></li>
</ul>
<h4 id="5-deploy-agent">5. Deploy Agent</h4>
<ul>
<li><input type="checkbox" id="checkbox12"><label for="checkbox12">Click &quot;Deploy&quot; button</label></li>
<li><input type="checkbox" id="checkbox13"><label for="checkbox13">Publish to &quot;Live&quot; environment</label></li>
<li><input type="checkbox" id="checkbox14"><label for="checkbox14">Copy Agent ID and Environment ID</label></li>
<li><input type="checkbox" id="checkbox15"><label for="checkbox15">Update </label><code>src/services/watsonx-config.ts</code> with IDs</li>
</ul>
<h4 id="6-test-agent">6. Test Agent</h4>
<ul>
<li><input type="checkbox" id="checkbox16"><label for="checkbox16">Use quick start prompts to test</label></li>
<li><input type="checkbox" id="checkbox17"><label for="checkbox17">Verify JSON output format</label></li>
<li><input type="checkbox" id="checkbox18"><label for="checkbox18">Check agent delegation works (for Supervisor)</label></li>
</ul>
<hr>
<h2 id="%F0%9F%94%A7-frontend-configuration">üîß Frontend Configuration</h2>
<p>After deploying all agents, update <code>src/services/watsonx-config.ts</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AGENTS: WatsonXAgent[] = [
  {
    id: <span class="hljs-string">'supervisor'</span>,
    name: <span class="hljs-string">'Supervisor Agent'</span>,
    agentId: <span class="hljs-string">'YOUR_SUPERVISOR_AGENT_ID'</span>,           <span class="hljs-comment">// From IBM watsonx</span>
    agentEnvironmentId: <span class="hljs-string">'YOUR_SUPERVISOR_ENV_ID'</span>,  <span class="hljs-comment">// From IBM watsonx</span>
    description: <span class="hljs-string">'Orchestrates multi-agent workflow...'</span>,
    color: <span class="hljs-string">'indigo'</span>
  },
  {
    id: <span class="hljs-string">'analyzer'</span>,
    name: <span class="hljs-string">'Disruption Analyzer'</span>,
    agentId: <span class="hljs-string">'YOUR_ANALYZER_AGENT_ID'</span>,
    agentEnvironmentId: <span class="hljs-string">'YOUR_ANALYZER_ENV_ID'</span>,
    description: <span class="hljs-string">'Scans ReliefWeb crisis data...'</span>,
    color: <span class="hljs-string">'purple'</span>
  },
  <span class="hljs-comment">// ... repeat for all 5 agents</span>
];
</div></code></pre>
<hr>
<h2 id="%F0%9F%A7%AA-testing-the-system">üß™ Testing the System</h2>
<h3 id="test-1-full-workflow-supervisor">Test 1: Full Workflow (Supervisor)</h3>
<pre class="hljs"><code><div>Input: &quot;Haiti - vaccines at port - 350 patients - 4 days delayed - help&quot;

Expected Output:
1. ‚úì Disruption analysis (High severity, humanitarian_flag=true)
2. ‚úì Root cause diagnosis (port congestion)
3. ‚úì 3 mitigation options (Airlift $45K, Reroute $15K, Split $28K)
4. ‚ö†Ô∏è Human approval request
5. ‚úì 3 stakeholder messages + KPIs
</div></code></pre>
<h3 id="test-2-individual-agent">Test 2: Individual Agent</h3>
<pre class="hljs"><code><div>Agent: DisruptionAnalyzer
Input: &quot;Blood products held at customs - 1000 units - emergency surgery scheduled&quot;

Expected Output:
{
  &quot;severity&quot;: &quot;High&quot;,
  &quot;humanitarian_flag&quot;: true,
  &quot;affected_people&quot;: 1000,
  &quot;confidence&quot;: 0.95,
  &quot;reasoning&quot;: &quot;Life-saving blood products + emergency surgery = high severity&quot;
}
</div></code></pre>
<h3 id="test-3-context-injection">Test 3: Context Injection</h3>
<p>Check browser console for:</p>
<pre class="hljs"><code><div>[Chain AI] Pre-send event - enriching with live data
[Chain AI] Injected context variables: { 
  reliefweb_reports: [...],
  weather_data: {...},
  crisis_context: &quot;...&quot;
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%90%9B-common-issues--solutions">üêõ Common Issues &amp; Solutions</h2>
<h3 id="issue-1-agent-not-responding">Issue 1: Agent Not Responding</h3>
<p><strong>Cause</strong>: Agent not published or environment ID incorrect<br>
<strong>Solution</strong>:</p>
<ol>
<li>Go to IBM watsonx ‚Üí Manage agents ‚Üí [Your Agent]</li>
<li>Click &quot;Deploy&quot; ‚Üí Publish to Live</li>
<li>Copy correct Environment ID</li>
<li>Update <code>watsonx-config.ts</code></li>
</ol>
<h3 id="issue-2-agent-delegation-not-working">Issue 2: Agent Delegation Not Working</h3>
<p><strong>Cause</strong>: Child agents not added to parent agent's toolset<br>
<strong>Solution</strong>:</p>
<ol>
<li>Go to Supervisor ‚Üí Toolset ‚Üí Agents</li>
<li>Click &quot;Add agent&quot;</li>
<li>Search and add all 4 child agents</li>
<li>Deploy changes</li>
</ol>
<h3 id="issue-3-context-variables-not-received">Issue 3: Context Variables Not Received</h3>
<p><strong>Cause</strong>: Frontend context injection not working<br>
<strong>Solution</strong>:</p>
<ol>
<li>Check browser console for <code>[Chain AI] Injected context variables</code></li>
<li>Verify <code>WatsonXChat.tsx</code> has <code>pre:send</code> event handler</li>
<li>Test with a message mentioning a location</li>
</ol>
<h3 id="issue-4-json-output-malformed">Issue 4: JSON Output Malformed</h3>
<p><strong>Cause</strong>: Instructions not specific enough<br>
<strong>Solution</strong>:</p>
<ol>
<li>Update agent instructions to show exact JSON structure</li>
<li>Add example outputs</li>
<li>Use &quot;Think step-by-step&quot; prompts</li>
</ol>
<hr>
<h2 id="%F0%9F%93%9A-additional-resources">üìö Additional Resources</h2>
<ul>
<li><strong>IBM watsonx Orchestrate Docs</strong>: https://cloud.ibm.com/docs/watson-orchestrate</li>
<li><strong>Agent Development Kit</strong>: https://cloud.ibm.com/docs/watson-orchestrate?topic=watson-orchestrate-agent-dev-kit</li>
<li><strong>ReAct Reasoning Framework</strong>: https://react-lm.github.io/</li>
<li><strong>ReliefWeb API</strong>: https://apidoc.reliefweb.int/</li>
</ul>
<hr>
<h2 id="%E2%9C%85-success-criteria">‚úÖ Success Criteria</h2>
<p>You'll know the system is working correctly when:</p>
<ol>
<li>
<p><strong>Supervisor Agent</strong>:</p>
<ul>
<li>‚úì Calls all 4 child agents in sequence</li>
<li>‚úì Shows &quot;Human approval required&quot; for high-cost decisions</li>
<li>‚úì Returns complete JSON with all phases</li>
</ul>
</li>
<li>
<p><strong>Individual Agents</strong>:</p>
<ul>
<li>‚úì Return properly formatted JSON</li>
<li>‚úì Show reasoning in responses</li>
<li>‚úì Use context variables from frontend</li>
</ul>
</li>
<li>
<p><strong>Frontend Integration</strong>:</p>
<ul>
<li>‚úì Agent selector shows all 5 agents</li>
<li>‚úì Chat loads for each agent</li>
<li>‚úì Context injection logs appear in console</li>
<li>‚úì Live Crisis Feed data flows to agents</li>
</ul>
</li>
</ol>
<hr>
<p><strong>Built with ‚ù§Ô∏è for Call for Code Global Challenge 2025</strong></p>

</body>

</html>